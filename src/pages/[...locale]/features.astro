---
import Header from "@/components/Header.astro";
import Footer from "@/components/Footer.astro";
import Layout from "@/layouts/Layout.astro";
import FeatureGrid from "@/components/sections/FeatureGrid.astro";
import CTASection from "@/components/sections/CTASection.astro";
import { Badge } from "@/components/ui/badge";
import { FeatureTabs } from "@/components/FeatureTabs";
import { DEFAULT_LOCALE, SUPPORTED_LOCALES } from "@/i18n/config";
import { translateFor } from "@/i18n/utils";
import type { GetStaticPaths } from "astro";

export const prerender = true;

export const getStaticPaths = (async () =>
  SUPPORTED_LOCALES.map(locale => ({
    params: { locale: locale === DEFAULT_LOCALE ? undefined : locale },
  }))) satisfies GetStaticPaths;

const { locale = DEFAULT_LOCALE } = Astro.params;
const t = translateFor(Astro.currentLocale);

const aiFeatures = [
  {
    icon: "ğŸ“„",
    title: "AI Document Intelligence",
    description: "Upload documents and let AI extract insights, summarize content, and enable intelligent search. Chat with your documents using RAG technology.",
  },
  {
    icon: "âœï¸",
    title: "AI Content Generation",
    description: "Generate blog posts, marketing copy, social media content, and emails with AI. Choose tone, style, and length for perfect results.",
  },
  {
    icon: "ğŸ“Š",
    title: "AI Analytics",
    description: "Ask questions in natural language and get instant insights, charts, and reports from your data. No SQL knowledge required.",
  },
  {
    icon: "ğŸ”",
    title: "Semantic Search",
    description: "Find exactly what you need with AI-powered search that understands context and meaning, not just keywords.",
  },
  {
    icon: "ğŸŒ",
    title: "Multi-language Support",
    description: "Generate content and analyze data in multiple languages. Full i18n support for global teams.",
  },
  {
    icon: "ğŸ”Œ",
    title: "Flexible AI Providers",
    description: "Choose from OpenAI, Anthropic, or OpenRouter. Switch providers based on your needs and budget.",
  },
];

const technicalFeatures = [
  {
    icon: "ğŸ”",
    title: "Enterprise Security",
    description: "RBAC, audit logging, rate limiting, and GDPR-compliant data handling built-in.",
  },
  {
    icon: "âš¡",
    title: "Real-time Updates",
    description: "WebSocket support for live collaboration and instant notifications across your team.",
  },
  {
    icon: "ğŸ“±",
    title: "RESTful API",
    description: "Comprehensive API with OpenAPI documentation. Integrate with your existing tools and workflows.",
  },
  {
    icon: "ğŸ¨",
    title: "Modern UI/UX",
    description: "Beautiful, responsive interfaces built with React, shadcn/ui, and Tailwind CSS v4.",
  },
  {
    icon: "ğŸ“ˆ",
    title: "Usage Analytics",
    description: "Real-time dashboards showing AI usage, costs, and performance metrics.",
  },
  {
    icon: "ğŸ”„",
    title: "Async Processing",
    description: "Background job processing with Celery for heavy AI operations that don't block your app.",
  },
];
---

<Layout title="Features - AI-Powered SaaS Platform" description="Discover powerful AI features including document intelligence, content generation, analytics, and more.">
  <Header />
  <main>
    <!-- Hero Section -->
    <section class="relative overflow-hidden py-20 md:py-32 bg-gradient-mesh">
      <div class="container max-w-5xl text-center">
        <Badge variant="secondary" className="mb-6 px-4 py-2" client:load>
          ğŸš€ Powered by GPT-4 & Claude
        </Badge>
        
        <h1 class="text-5xl font-bold tracking-tight sm:text-6xl md:text-7xl mb-6 animate-slide-up">
          AI superpowers for your business
        </h1>
        
        <p class="text-xl text-muted-foreground mb-10 max-w-3xl mx-auto animate-fade-in">
          Everything you need to build, scale, and manage an AI-powered SaaS application. 
          From document processing to content generation and analytics.
        </p>
      </div>
    </section>

    <!-- AI Features -->
    <FeatureGrid
      title="AI-Powered Features"
      subtitle="Production-ready AI capabilities that drive real business value"
      features={aiFeatures}
    />

    <!-- Feature Tabs -->
    <section class="py-20 md:py-32 bg-muted/30">
      <div class="container max-w-6xl">
        <div class="text-center mb-16">
          <h2 class="text-4xl font-bold tracking-tight sm:text-5xl mb-4">
            Deep dive into our features
          </h2>
          <p class="text-xl text-muted-foreground">
            Explore what makes our platform unique
          </p>
        </div>
        
        <FeatureTabs client:load />
      </div>
    </section>

    <!-- Technical Features -->
    <FeatureGrid
      title="Technical Excellence"
      subtitle="Built with modern tools and best practices"
      features={technicalFeatures}
    />

    <!-- CTA -->
    <CTASection
      title="Ready to experience AI-powered productivity?"
      subtitle="Start with our free plan and upgrade as you grow"
      primaryCta="Start Free Trial"
      primaryCtaHref="/signup"
      secondaryCta="View Pricing"
      secondaryCtaHref="/pricing"
      variant="gradient"
    />
  </main>
  <Footer />
</Layout>
